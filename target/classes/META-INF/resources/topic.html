<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>individual topic</title>
  <link rel="stylesheet" href="style.css">

  <script>
    async function main() {
      const urlParams = new URLSearchParams(window.location.search);
      const topicName = urlParams.get('name');
      console.log('the parameter is :' + topicName);
      const responseFromServer = await fetch("/one-topic?name=" + topicName);
      const topicData = await responseFromServer.json();
      //const myJSON = JSON.stringify(topicData);
      console.log("_____________");
      console.log(topicData[0].name);
      console.log("_____________");
      //var stringified = JSON.stringify(data);
      //var parsedObj = JSON.parse(stringified);
      console.log('the data is :' + topicData);

      // Use topicData to build the HTML of the page
      document.getElementById('topicTitle').innerText = topicData[0].name;
      document.getElementById('topicDescription').innerText = topicData[0].description;
      //document.getElementById('id').innerText = topicData[0].id; //testing something
    }
    main();
  </script>

  <style>
    body {
      text-align: justify;
    }

    img {
      display: block;
      margin-left: auto;
      margin-right: auto;
      width: 100%;
      height: 500px;
    }

    .more {
      text-align: center;
      text-decoration: underline;
      text-decoration-color: #00ff99;
    }

    #displayRsrc {
      padding-left: 10px;
      padding-right: 10px;
      text-align: justify;
    }

    .quote {
      margin: 0;
      background: #eee;
      padding: 1em;
      border-radius: 1em;
    }

    .quote figcaption,
    .quote blockquote {
      margin: 1em;
    }

    input[type=text],
    select,
    textarea {
      width: 100%;
      padding: 12px;
      border: 1px solid #ccc;
      border-radius: 4px;
      resize: vertical;
    }

    label {
      padding: 12px 12px 12px 0;
      display: inline-block;
    }

    input[type=submit] {
      background-color: #00ff99;
      ;
      color: black;
      padding: 12px 20px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      float: right;
    }

    input[type=submit]:hover {
      background-color: #00ff99;
    }

    .container {
      border-radius: 5px;
      background-color: #f2f2f2;
      padding: 20px;
    }

    .col-25 {
      float: left;
      width: 25%;
      margin-top: 6px;
    }

    .col-75 {
      float: left;
      width: 75%;
      margin-top: 6px;
    }

    /* Clear floats after the columns */
    .row:after {
      content: "";
      display: table;
      clear: both;
    }

    /* Responsive layout - when the screen is less than 600px wide, make the two columns stack on top of each other instead of next to each other */
    @media screen and (max-width: 600px) {

      .col-25,
      .col-75,
      input[type=submit] {
        width: 100%;
        margin-top: 0;
      }
    }
  </style>
</head>


<body>
  <!--p id="id"> the id is : </p-->
  <div>
    <h1 id="topicTitle" class="more"></h1>
    <div>
      <img
        src="https://www.who.int/images/default-source/health-topics/coronavirus/corona-virus-getty.tmb-1200v.jpg?Culture=en&sfvrsn=217a6a68_30">
    </div>
    <h1 class="more">Description</h1>
    <p id="topicDescription"></p>

    <h1 class="more">Resources</h1>
    <div id="displayRsrc">
      <p>berries are among the world’s most popular health foods.

        These sweet, nutritious foods are very easy to incorporate into your diet because they require little to
        no preparation.

        1. Apples
        Apples are high in fiber, vitamin C, and numerous antioxidants. They are very filling and make the
        perfect snack if you find yourself hungry between meals.

        2. Avocados
        Avocados are different than most fruits because they are loaded with healthy fats instead of carbs. Not
        only are they creamy and tasty but also high in fiber, potassium, and vitamin C.

        3. Bananas
        Bananas are among the world’s best sources of potassium. They’re also high in vitamin B6 and fiber, as
        well as convenient and portabl
      </p>
    </div>
    <div id="comment">
      <h2 class="more">comments</h2>
      <figure class="quote">
        <blockquote>
          But web browsers aren’t like web servers. If your back-end code is getting so big that it’s starting
          to run
          noticably slowly, you can
        </blockquote>
        <figcaption>
          &mdash; Jeremy Keith
        </figcaption>
      </figure>
    </div>

    <div class="container">
      <form action="" method="POST">
        <div class="row">
          <div class="col-25">
            <label for="fname">Full name</label>
          </div>
          <div class="col-75">
            <input type="text" id="fname" name="firstname" placeholder="Your name..">
          </div>
        </div>
        <div class="row">
          <div class="col-25">
            <label for="subject">Subject</label>
          </div>
          <div class="col-75">
            <textarea id="subject" name="subject" placeholder="comment or add a resource ..."
              style="height:200px"></textarea>
          </div>
        </div>
        <div class="row">
          <input type="submit" value="Submit">
        </div>
      </form>
    </div>
  </div>

</body>


<script src="script.js"></script>

</html>